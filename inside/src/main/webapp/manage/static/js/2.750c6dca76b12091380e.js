webpackJsonp([2],{146:function(t,a,e){function s(t){e(199)}var n=e(58)(e(167),e(218),s,null,null);t.exports=n.exports},167:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e(169);a.default={data:function(){return{staffListReq:{staffSearch:"",staffStatus:0,current:1,size:10},page:{totalNums:1,totalPages:1},staffListData:[],staff:{id:0,staffCode:0,staffName:"",staffPhone:"",staffJoinTime:""},dialogOpe:{name:"员工信息",status:0},dialogStaffVisible:!1,formLabelWidth:"120px",statusOptions:[{value:"",label:"全部"},{value:0,label:"在职"},{value:1,label:"离职"}],departmentListData:[]}},methods:{getStaffList:function(){var t=this;e.i(s.a)(this.staffListReq).then(function(a){console.log(a);var e=a.code;100==e?(t.staffListData=a.data,t.page.totalNums=a.page.totalNums,t.page.totalPages=a.page.totalPages):t.$message.error(a.msg+"[错误码："+e+"]")})},addStaff:function(){var t=this;console.log(this.staff),e.i(s.b)(this.staff).then(function(a){console.log(a);var e=a.code;100==e?(t.staffListData=a.data,t.getStaffList()):t.$message.error(a.msg+"[错误码："+e+"]"),t.dialogCancel()})},modifyStaff:function(){var t=this;e.i(s.c)(this.staff).then(function(a){var e=a.code;100==e?(t.staffListData=a.data,t.getStaffList()):t.$message.error(a.msg+"[错误码："+e+"]"),t.dialogCancel()})},delStaff:function(t){var a=this;this.$confirm("此操作将永久删除该员工数据，是否继续？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.i(s.d)({id:t}).then(function(t){var e=t.code;100==e?(a.$message({type:"success",message:"您已删除该员工！"}),a.getStaffList()):a.$message.error(t.msg+"[错误码："+e+"]")})})},quitStaff:function(t){var a=this;this.$confirm("离职员工？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.i(s.e)({id:t}).then(function(t){var e=t.code;100==e?(a.$message({type:"success",message:"操作成功！"}),a.getStaffList()):a.$message.error(t.msg+"[错误码："+e+"]")})})},getDepartmentList:function(){var t=this;e.i(s.f)().then(function(a){var e=a.code;100==e?t.departmentListData=a.data:t.$message.error(a.msg+"[错误码："+e+"]")})},openAddStaff:function(){this.staff={},this.dialogOpe.name="新增员工",this.dialogOpe.status=1,this.dialogStaffVisible=!0,this.departmentListData=[],this.getDepartmentList()},openModifyStaff:function(t){this.staff=t,this.dialogOpe.name="编辑员工",this.dialogOpe.status=2,this.departmentListData=[],this.getDepartmentList(),this.dialogStaffVisible=!0},searchClick:function(){this.getStaffList()},dialogCancel:function(){this.dialogOpe.name="员工信息",this.dialogOpe.status=0,this.dialogStaffVisible=!1},dialogConfirm:function(t){switch(t){case 1:this.addStaff();break;case 2:this.modifyStaff();break;default:this.dialogCancel()}},handleCurrentChange:function(t){this.getStaffList()},handleSizeChange:function(t){this.staffListReq.size=t,console.log(this.staffListReq.size),this.getStaffList()}},created:function(){this.getStaffList()},watch:{"staffListReq.staffStatus":function(t){this.getStaffList()}}}},169:function(t,a,e){"use strict";e.d(a,"a",function(){return i}),e.d(a,"b",function(){return f}),e.d(a,"c",function(){return o}),e.d(a,"d",function(){return r}),e.d(a,"e",function(){return l}),e.d(a,"f",function(){return c});var s=e(15),n=window.INSIDE_BASE_URL,i=function(t){return s.a.post(n+"/app/staff/listByPage",t).then(function(t){return t.data})},f=function(t){return s.a.post(n+"/app/staff/add",t).then(function(t){return t.data})},o=function(t){return s.a.post(n+"/app/staff/modify",t).then(function(t){return t.data})},r=function(t){return s.a.post(n+"/app/staff/del",t).then(function(t){return t.data})},l=function(t){return s.a.post(n+"/app/staff/quit",t).then(function(t){return t.data})},c=function(t){return s.a.post(n+"/app/department/listAll",t).then(function(t){return t.data})}},183:function(t,a,e){a=t.exports=e(129)(!0),a.push([t.i,".a-admin-head{padding:35px 0 35px 25px}.a-admin-table{margin:0 25px 25px}.el-pagination{float:right;margin-right:20px}.el-dialog{position:absolute;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);background:#fff;border-radius:2px;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.3);box-shadow:0 1px 3px rgba(0,0,0,.3);-webkit-box-sizing:border-box;box-sizing:border-box;margin-bottom:50px;margin-left:80px;margin-top:165px}","",{version:3,sources:["E:/workspaceIDEA/gt_inside_general/cli-pc/src/components/staff/vue/staffList.vue"],names:[],mappings:"AACA,cACI,wBAA0B,CAC7B,AACD,eACE,kBAAmB,CACpB,AACD,eACI,YAAa,AACb,iBAAmB,CACtB,AACD,WACI,kBAAmB,AACnB,SAAU,AACV,mCAAoC,AAC5B,2BAA4B,AACpC,gBAAiB,AACjB,kBAAmB,AACnB,4CAA6C,AACrC,oCAAqC,AAC7C,8BAA+B,AACvB,sBAAuB,AAC/B,mBAAoB,AACpB,iBAAkB,AAClB,gBAAkB,CACrB",file:"staffList.vue",sourcesContent:["\n.a-admin-head{\r\n    padding: 35px 0 35px 25px;\n}\n.a-admin-table{\r\n  margin:0 25px 25px;\n}\n.el-pagination {\r\n    float: right;\r\n    margin-right: 20px;\n}\n.el-dialog {\r\n    position: absolute;\r\n    left: 50%;\r\n    -webkit-transform: translateX(-50%);\r\n            transform: translateX(-50%);\r\n    background: #fff;\r\n    border-radius: 2px;\r\n    -webkit-box-shadow: 0 1px 3px rgba(0,0,0,.3);\r\n            box-shadow: 0 1px 3px rgba(0,0,0,.3);\r\n    -webkit-box-sizing: border-box;\r\n            box-sizing: border-box;\r\n    margin-bottom: 50px;\r\n    margin-left: 80px;\r\n    margin-top: 165px;\n}\r\n"],sourceRoot:""}])},199:function(t,a,e){var s=e(183);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e(130)("987668cc",s,!0)},218:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",[e("div",{staticClass:"a-admin-head"},[e("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary"},on:{click:t.openAddStaff}},[t._v("新增")]),t._v(" "),e("el-input",{staticStyle:{width:"250px!important","margin-right":"20px"},attrs:{placeholder:"员工编号/姓名/手机号",icon:"search","on-icon-click":t.searchClick},model:{value:t.staffListReq.staffSearch,callback:function(a){t.$set(t.staffListReq,"staffSearch",a)},expression:"staffListReq.staffSearch"}}),t._v(" "),e("el-select",{staticStyle:{width:"80px!important"},model:{value:t.staffListReq.staffStatus,callback:function(a){t.$set(t.staffListReq,"staffStatus",a)},expression:"staffListReq.staffStatus"}},t._l(t.statusOptions,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),e("div",{staticClass:"a-admin-table"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.staffListData,border:"","highlight-current-row":""}},[e("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),e("el-table-column",{attrs:{prop:"staffName",label:"姓名"}}),t._v(" "),e("el-table-column",{attrs:{prop:"staffEnName",label:"英文名"}}),t._v(" "),e("el-table-column",{attrs:{prop:"staffCode",label:"编号"}}),t._v(" "),e("el-table-column",{attrs:{prop:"staffPhone",label:"电话"}}),t._v(" "),e("el-table-column",{attrs:{label:"入职时间"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-icon",{attrs:{name:"time"}}),t._v(" "),e("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.$util.DateFormat(a.row.staffJoinTime,"yyyy-MM-dd")))])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n            "+t._s(0==a.row.staffStatus?"在职":"离职")+"\n          ")]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"small"},on:{click:function(e){t.openModifyStaff(a.row)}}},[t._v("编辑")]),t._v(" "),e("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){t.delStaff(a.row.id)}}},[t._v("删除")]),t._v(" "),e("el-button",{directives:[{name:"show",rawName:"v-show",value:0==a.row.staffStatus,expression:"scope.row.staffStatus == 0"}],attrs:{plain:!0,size:"small",type:"danger"},on:{click:function(e){t.quitStaff(a.row.id)}}},[t._v("离职")])]}}])})],1)],1),t._v(" "),e("el-pagination",{attrs:{"current-page":t.staffListReq.current,"page-sizes":[10,20,50,100],"page-size":t.staffListReq.size,layout:"total, sizes, prev, pager, next",total:t.page.totalNums},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(a){t.$set(t.staffListReq,"current",a)}}})],1),t._v(" "),e("div",[e("el-dialog",{attrs:{title:t.dialogOpe.name,visible:t.dialogStaffVisible},on:{"update:visible":function(a){t.dialogStaffVisible=a}}},[e("el-form",{attrs:{model:t.staff}},[e("el-form-item",{attrs:{label:"名称","label-width":t.formLabelWidth}},[e("el-input",{attrs:{"auto-complete":"off",placeholder:"10字以内"},model:{value:t.staff.staffName,callback:function(a){t.$set(t.staff,"staffName",a)},expression:"staff.staffName"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"英文名","label-width":t.formLabelWidth}},[e("el-input",{attrs:{"auto-complete":"off",placeholder:"10字以内"},model:{value:t.staff.staffEnName,callback:function(a){t.$set(t.staff,"staffEnName",a)},expression:"staff.staffEnName"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"员工编号","label-width":t.formLabelWidth}},[e("el-input",{attrs:{"auto-complete":"off",placeholder:"7字以内"},model:{value:t.staff.staffCode,callback:function(a){t.$set(t.staff,"staffCode",a)},expression:"staff.staffCode"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"部门","label-width":t.formLabelWidth}},[e("el-select",{attrs:{placeholder:"请选择部门"},model:{value:t.staff.depId,callback:function(a){t.$set(t.staff,"depId",a)},expression:"staff.depId"}},t._l(t.departmentListData,function(t){return e("el-option",{key:t.id,attrs:{label:t.depName,value:t.id}})}))],1),t._v(" "),e("el-form-item",{attrs:{label:"入职时间","label-width":t.formLabelWidth}},[e("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.staff.staffJoinTime,callback:function(a){t.$set(t.staff,"staffJoinTime",a)},expression:"staff.staffJoinTime"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"电话","label-width":t.formLabelWidth}},[e("el-input",{attrs:{"auto-complete":"off",placeholder:"12字以内"},model:{value:t.staff.staffPhone,callback:function(a){t.$set(t.staff,"staffPhone",a)},expression:"staff.staffPhone"}})],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.dialogCancel}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.dialogConfirm(t.dialogOpe.status)}}},[t._v("确 定")])],1)],1)],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=2.750c6dca76b12091380e.js.map