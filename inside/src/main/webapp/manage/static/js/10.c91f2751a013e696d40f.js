webpackJsonp([10],{209:function(t,e,n){"use strict";function a(t){n(251)}Object.defineProperty(e,"__esModule",{value:!0});var r=n(253),i=n(254),o=n(78),s=a,f=o(r.a,i.a,!1,s,null,null);e.default=f.exports},219:function(t,e,n){"use strict";n.d(e,"i",function(){return i}),n.d(e,"s",function(){return o}),n.d(e,"o",function(){return s}),n.d(e,"k",function(){return f}),n.d(e,"q",function(){return l}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return u}),n.d(e,"f",function(){return p}),n.d(e,"p",function(){return g}),n.d(e,"r",function(){return d}),n.d(e,"e",function(){return h}),n.d(e,"m",function(){return m}),n.d(e,"l",function(){return z}),n.d(e,"a",function(){return v}),n.d(e,"j",function(){return O}),n.d(e,"n",function(){return b}),n.d(e,"b",function(){return y}),n.d(e,"g",function(){return S}),n.d(e,"t",function(){return _}),n.d(e,"h",function(){return L});var a=n(46),r=window.INSIDE_BASE_URL,i=function(t){return a.a.post(r+"/app/performance/getPower",t).then(function(t){return t.data})},o=function(t){return a.a.post(r+"/app/performance/listTotal",t).then(function(t){return t.data})},s=function(t){return a.a.post(r+"/app/performance/listOrganize",t).then(function(t){return t.data})},f=function(t){return a.a.post(r+"/app/department/listAll",t).then(function(t){return t.data})},l=function(t){return a.a.post(r+"/app/staff/listByPage",t).then(function(t){return t.data})},c=function(t){return a.a.post(r+"/app/performance/addOrModifyDirectly",t).then(function(t){return t.data})},u=function(t){return a.a.post(r+"/app/performance/addOrModifyBranch",t).then(function(t){return t.data})},p=function(t){return a.a.post(r+"/app/performance/checkOwnInfo",t).then(function(t){return t.data})},g=function(t){return a.a.post(r+"/app/performance/listOwnInfo",t).then(function(t){return t.data})},d=function(t){return a.a.post(r+"/app/performance/listStaticInfo",t).then(function(t){return t.data})},h=function(t){return a.a.post(r+"/app/performance/addOwn",t).then(function(t){return t.data})},m=function(t){return a.a.post(r+"/app/performance/listDirectlyStaff",t).then(function(t){return t.data})},z=function(t){return a.a.post(r+"/app/performance/listDirectlyInfo",t).then(function(t){return t.data})},v=function(t){return a.a.post(r+"/app/performance/addDirectly",t).then(function(t){return t.data})},O=function(t){return a.a.post(r+"/app/performance/listBranchStaff",t).then(function(t){return t.data})},b=function(t){return a.a.post(r+"/app/performance/listLevelDict",t).then(function(t){return t.data})},y=function(t){return a.a.post(r+"/app/performance/addLevel",t).then(function(t){return t.data})},S=function(t){return a.a.post(r+"/app/performance/checkReleaseLevel",t).then(function(t){return t.data})},_=function(t){return a.a.post(r+"/app/performance/releaseLevel",t).then(function(t){return t.data})},L=function(){return Object(a.a)({method:"get",url:r+"/app/performance/exportExcel",responseType:"blob"}).then(function(t){return t.data})}},251:function(t,e,n){var a=n(252);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(202)("16c58237",a,!0)},252:function(t,e,n){e=t.exports=n(201)(!1),e.push([t.i,".function-performance-organize .el-pagination{white-space:nowrap;padding:15px 5px;color:#48576a;text-align:right}.function-performance-organize .el-pager,.function-performance-organize .el-pager li,.function-performance-organize .el-pagination button,.function-performance-organize .el-pagination span{vertical-align:0}",""])},253:function(t,e,n){"use strict";var a=n(219);e.a={data:function(){return{listOrganizeReq:{departmentId:"",current:1,size:10},page:{totalNums:1,totalPages:1},dialogTableVisible:!1,organizeListData:[],departmentListData:[],organize:{staffId:"",staffOrgId:"",staffOrgName:""},organizeOpe:{status:0,name:""},staffListReq:{staffStatus:0,current:1,size:10},pageStaff:{totalNums:1,totalPages:1},staffListData:[],loading:!1}},methods:{listOrganize:function(){var t=this;this.loading=!0,Object(a.o)(this.listOrganizeReq).then(function(e){console.log(e);var n=e.code;100==n?(t.organizeListData=e.data,t.page.totalNums=e.page.totalNums,t.page.totalPages=e.page.totalPages):t.$message.error(e.msg+"[错误码："+n+"]"),t.loading=!1})},getDepartmentList:function(){var t=this;Object(a.k)().then(function(e){console.log(e);var n=e.code;100==n?t.departmentListData=e.data:t.$message.error(e.msg+"[错误码："+n+"]")})},getStaffList:function(){var t=this;Object(a.q)(this.staffListReq).then(function(e){console.log(e);var n=e.code;100==n?(t.staffListData=e.data,t.pageStaff.totalNums=e.page.totalNums,t.pageStaff.totalPages=e.page.totalPages):t.$message.error(e.msg+"[错误码："+n+"]")})},addOrModifyDirectly:function(){var t=this;console.log(this.organize),Object(a.d)(this.organize).then(function(e){console.log(e);var n=e.code;100==n?(t.$message({message:"操作成功",type:"success"}),t.listOrganize()):t.$message.error(e.msg+"[错误码："+n+"]")})},addOrModifyBranch:function(){var t=this;console.log(this.organize),Object(a.c)(this.organize).then(function(e){console.log(e);var n=e.code;100==n?(t.$message({message:"操作成功",type:"success"}),t.listOrganize()):t.$message.error(e.msg+"[错误码："+n+"]")})},handleCurrentChange:function(t){this.listOrganize()},handleSizeChange:function(t){this.listOrganizeReq.size=t,this.listOrganize()},handleStaffCurrentChange:function(t){this.getStaffList()},handleStaffSizeChange:function(t){this.staffListReq.size=t,this.getStaffList()},handleStaffTableChange:function(t){console.log(t),null!=t&&(this.organize.staffOrgId=t.id,this.organize.staffOrgName=t.staffName)},relationDirectly:function(t){this.organizeOpe.status=0,this.organizeOpe.name="",this.organize.staffId="",this.organize.staffOrgId="",console.log(t),this.organize.staffId=t.staffId,this.dialogTableVisible=!0,this.organizeOpe.status=1,this.organizeOpe.name="直属领导",this.getStaffList()},relationBranch:function(t){this.organizeOpe.status=0,this.organizeOpe.name="",this.organize.staffId="",this.organize.staffOrgId="",console.log(t),this.organize.staffId=t.staffId,this.dialogTableVisible=!0,this.organizeOpe.status=2,this.organizeOpe.name="分管领导",this.getStaffList()},saveSelect:function(){1==this.organizeOpe.status?this.addOrModifyDirectly():2==this.organizeOpe.status&&this.addOrModifyBranch(),this.dialogTableVisible=!1,this.organizeOpe.status=0}},created:function(){this.listOrganize(),this.getDepartmentList()},watch:{"listOrganizeReq.departmentId":function(t){this.listOrganize()}}}},254:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"function-performance-organize"},[n("el-select",{staticStyle:{margin:"0px 0 29px"},attrs:{clearable:"",placeholder:"请选择部门"},model:{value:t.listOrganizeReq.departmentId,callback:function(e){t.$set(t.listOrganizeReq,"departmentId",e)},expression:"listOrganizeReq.departmentId"}},t._l(t.departmentListData,function(t){return n("el-option",{key:t.id,attrs:{label:t.depName,value:t.id}})})),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.organizeListData,border:"","highlight-current-row":""}},[n("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),n("el-table-column",{attrs:{prop:"staffName",label:"姓名"}}),t._v(" "),n("el-table-column",{attrs:{prop:"departmentName",label:"部门"}}),t._v(" "),n("el-table-column",{attrs:{prop:"directlyName",label:"直属领导"}}),t._v(" "),n("el-table-column",{attrs:{prop:"branchName",label:"分管领导"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(n){t.relationDirectly(e.row)}}},[t._v("关联直属领导")]),t._v(" "),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(n){t.relationBranch(e.row)}}},[t._v("关联分管领导")])]}}])})],1),t._v(" "),n("el-pagination",{attrs:{"current-page":t.listOrganizeReq.current,"page-sizes":[10,20,50,100],"page-size":t.listOrganizeReq.size,layout:"total, sizes, prev, pager, next",total:t.page.totalNums},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.$set(t.listOrganizeReq,"current",e)}}}),t._v(" "),n("div",[n("el-dialog",{attrs:{title:t.organizeOpe.name,visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[n("el-table",{attrs:{data:t.staffListData,"highlight-current-row":""},on:{"current-change":t.handleStaffTableChange}},[n("el-table-column",{attrs:{prop:"staffName",label:"姓名"}}),t._v(" "),n("el-table-column",{attrs:{prop:"staffEnName",label:"英文名"}}),t._v(" "),n("el-table-column",{attrs:{prop:"staffCode",label:"编号"}})],1),t._v(" "),n("el-pagination",{attrs:{"current-page":t.staffListReq.current,"page-sizes":[10,20,50,100],"page-size":t.staffListReq.size,layout:"total, sizes, prev, pager, next",total:t.pageStaff.totalNums},on:{"size-change":t.handleStaffSizeChange,"current-change":t.handleStaffCurrentChange,"update:currentPage":function(e){t.$set(t.staffListReq,"current",e)}}}),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:""!=t.organize.staffOrgId,expression:"organize.staffOrgId != ''"}]},[t._v("当前选择的"+t._s(t.organizeOpe.name)+"："+t._s(t.organize.staffOrgName))]),t._v(" "),n("el-button",{directives:[{name:"show",rawName:"v-show",value:""!=t.organize.staffOrgId,expression:"organize.staffOrgId != ''"}],staticStyle:{"margin-left":"15px"},attrs:{type:"primary"},on:{click:function(e){t.saveSelect()}}},[t._v("保存选择")])],1)],1)],1)},r=[],i={render:a,staticRenderFns:r};e.a=i}});