webpackJsonp([10],{137:function(t,e,a){function n(t){a(196)}var r=a(58)(a(157),a(215),n,"data-v-6dec1976",null);t.exports=r.exports},147:function(t,e,a){"use strict";a.d(e,"s",function(){return i}),a.d(e,"r",function(){return o}),a.d(e,"m",function(){return s}),a.d(e,"n",function(){return l}),a.d(e,"o",function(){return f}),a.d(e,"p",function(){return c}),a.d(e,"q",function(){return u}),a.d(e,"k",function(){return p}),a.d(e,"j",function(){return g}),a.d(e,"i",function(){return d}),a.d(e,"l",function(){return h}),a.d(e,"f",function(){return m}),a.d(e,"g",function(){return b}),a.d(e,"h",function(){return A}),a.d(e,"a",function(){return z}),a.d(e,"b",function(){return v}),a.d(e,"c",function(){return O}),a.d(e,"d",function(){return C}),a.d(e,"e",function(){return x});var n=a(15),r=window.INSIDE_BASE_URL,i=function(t){return n.a.post(r+"/app/performance/getPower",t).then(function(t){return t.data})},o=function(t){return n.a.post(r+"/app/performance/listTotal",t).then(function(t){return t.data})},s=function(t){return n.a.post(r+"/app/performance/listOrganize",t).then(function(t){return t.data})},l=function(t){return n.a.post(r+"/app/department/listAll",t).then(function(t){return t.data})},f=function(t){return n.a.post(r+"/app/staff/listByPage",t).then(function(t){return t.data})},c=function(t){return n.a.post(r+"/app/performance/addOrModifyDirectly",t).then(function(t){return t.data})},u=function(t){return n.a.post(r+"/app/performance/addOrModifyBranch",t).then(function(t){return t.data})},p=function(t){return n.a.post(r+"/app/performance/checkOwnInfo",t).then(function(t){return t.data})},g=function(t){return n.a.post(r+"/app/performance/listOwnInfo",t).then(function(t){return t.data})},d=function(t){return n.a.post(r+"/app/performance/listStaticInfo",t).then(function(t){return t.data})},h=function(t){return n.a.post(r+"/app/performance/addOwn",t).then(function(t){return t.data})},m=function(t){return n.a.post(r+"/app/performance/listDirectlyStaff",t).then(function(t){return t.data})},b=function(t){return n.a.post(r+"/app/performance/listDirectlyInfo",t).then(function(t){return t.data})},A=function(t){return n.a.post(r+"/app/performance/addDirectly",t).then(function(t){return t.data})},z=function(t){return n.a.post(r+"/app/performance/listBranchStaff",t).then(function(t){return t.data})},v=function(t){return n.a.post(r+"/app/performance/listLevelDict",t).then(function(t){return t.data})},O=function(t){return n.a.post(r+"/app/performance/addLevel",t).then(function(t){return t.data})},C=function(t){return n.a.post(r+"/app/performance/checkReleaseLevel",t).then(function(t){return t.data})},x=function(t){return n.a.post(r+"/app/performance/releaseLevel",t).then(function(t){return t.data})}},157:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(147);e.default={data:function(){return{listOrganizeReq:{departmentId:"",current:1,size:10},page:{totalNums:1,totalPages:1},dialogTableVisible:!1,organizeListData:[],departmentListData:[],organize:{staffId:"",staffOrgId:"",staffOrgName:""},organizeOpe:{status:0,name:""},staffListReq:{staffStatus:0,current:1,size:10},pageStaff:{totalNums:1,totalPages:1},staffListData:[],loading:!1}},methods:{listOrganize:function(){var t=this;this.loading=!0,a.i(n.m)(this.listOrganizeReq).then(function(e){console.log(e);var a=e.code;100==a?(t.organizeListData=e.data,t.page.totalNums=e.page.totalNums,t.page.totalPages=e.page.totalPages):t.$message.error(e.msg+"[错误码："+a+"]"),t.loading=!1})},getDepartmentList:function(){var t=this;a.i(n.n)().then(function(e){console.log(e);var a=e.code;100==a?t.departmentListData=e.data:t.$message.error(e.msg+"[错误码："+a+"]")})},getStaffList:function(){var t=this;a.i(n.o)(this.staffListReq).then(function(e){console.log(e);var a=e.code;100==a?(t.staffListData=e.data,t.pageStaff.totalNums=e.page.totalNums,t.pageStaff.totalPages=e.page.totalPages):t.$message.error(e.msg+"[错误码："+a+"]")})},addOrModifyDirectly:function(){var t=this;console.log(this.organize),a.i(n.p)(this.organize).then(function(e){console.log(e);var a=e.code;100==a?(t.$message({message:"操作成功",type:"success"}),t.listOrganize()):t.$message.error(e.msg+"[错误码："+a+"]")})},addOrModifyBranch:function(){var t=this;console.log(this.organize),a.i(n.q)(this.organize).then(function(e){console.log(e);var a=e.code;100==a?(t.$message({message:"操作成功",type:"success"}),t.listOrganize()):t.$message.error(e.msg+"[错误码："+a+"]")})},handleCurrentChange:function(t){this.listOrganize()},handleSizeChange:function(t){this.listOrganizeReq.size=t,this.listOrganize()},handleStaffCurrentChange:function(t){this.getStaffList()},handleStaffSizeChange:function(t){this.staffListReq.size=t,this.getStaffList()},handleStaffTableChange:function(t){console.log(t),null!=t&&(this.organize.staffOrgId=t.id,this.organize.staffOrgName=t.staffName)},relationDirectly:function(t){this.organizeOpe.status=0,this.organizeOpe.name="",this.organize.staffId="",this.organize.staffOrgId="",console.log(t),this.organize.staffId=t.staffId,this.dialogTableVisible=!0,this.organizeOpe.status=1,this.organizeOpe.name="直属领导",this.getStaffList()},relationBranch:function(t){this.organizeOpe.status=0,this.organizeOpe.name="",this.organize.staffId="",this.organize.staffOrgId="",console.log(t),this.organize.staffId=t.staffId,this.dialogTableVisible=!0,this.organizeOpe.status=2,this.organizeOpe.name="分管领导",this.getStaffList()},saveSelect:function(){1==this.organizeOpe.status?this.addOrModifyDirectly():2==this.organizeOpe.status&&this.addOrModifyBranch(),this.dialogTableVisible=!1,this.organizeOpe.status=0}},created:function(){this.listOrganize(),this.getDepartmentList()},watch:{"listOrganizeReq.departmentId":function(t){this.listOrganize()}}}},180:function(t,e,a){e=t.exports=a(129)(!0),e.push([t.i,".el-pagination[data-v-6dec1976]{white-space:nowrap;padding:15px 5px;color:#48576a;text-align:right}.el-pager[data-v-6dec1976],.el-pager li[data-v-6dec1976],.el-pagination button[data-v-6dec1976],.el-pagination span[data-v-6dec1976]{vertical-align:0}.el-dialog[data-v-6dec1976]{position:absolute;left:56%;-webkit-transform:translateX(-50%);transform:translateX(-50%);background:#fff;border-radius:2px;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.3);box-shadow:0 1px 3px rgba(0,0,0,.3);-webkit-box-sizing:border-box;box-sizing:border-box;margin-bottom:50px;margin-left:0;top:32%!important}","",{version:3,sources:["E:/workspaceIDEA/gt_inside_general/cli-pc/src/components/function/performance/vue/organize.vue"],names:[],mappings:"AACA,gCACE,mBAAoB,AACpB,iBAAkB,AAClB,cAAe,AACf,gBAAkB,CACnB,AAID,qIACE,gBAAkB,CACnB,AACD,4BACE,kBAAmB,AACnB,SAAU,AACV,mCAAoC,AAC5B,2BAA4B,AACpC,gBAAiB,AACjB,kBAAmB,AACnB,4CAA6C,AACrC,oCAAqC,AAC7C,8BAA+B,AACvB,sBAAuB,AAC/B,mBAAoB,AACpB,cAAe,AACf,iBAAoB,CACrB",file:"organize.vue",sourcesContent:["\n.el-pagination[data-v-6dec1976] {\n  white-space: nowrap;\n  padding: 15px 5px;\n  color: #48576a;\n  text-align: right;\n}\n.el-pagination button[data-v-6dec1976], .el-pagination span[data-v-6dec1976] {\n  vertical-align: 0;\n}\n.el-pager[data-v-6dec1976], .el-pager li[data-v-6dec1976] {\n  vertical-align: 0;\n}\n.el-dialog[data-v-6dec1976] {\n  position: absolute;\n  left: 56%;\n  -webkit-transform: translateX(-50%);\n          transform: translateX(-50%);\n  background: #fff;\n  border-radius: 2px;\n  -webkit-box-shadow: 0 1px 3px rgba(0,0,0,.3);\n          box-shadow: 0 1px 3px rgba(0,0,0,.3);\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  margin-bottom: 50px;\n  margin-left: 0;\n  top: 32% !important;\n}\n"],sourceRoot:""}])},196:function(t,e,a){var n=a(180);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(130)("624385d8",n,!0)},215:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-select",{staticStyle:{margin:"0px 0 29px"},attrs:{clearable:"",placeholder:"请选择部门"},model:{value:t.listOrganizeReq.departmentId,callback:function(e){t.$set(t.listOrganizeReq,"departmentId",e)},expression:"listOrganizeReq.departmentId"}},t._l(t.departmentListData,function(t){return a("el-option",{key:t.id,attrs:{label:t.depName,value:t.id}})})),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.organizeListData,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"staffName",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"departmentName",label:"部门"}}),t._v(" "),a("el-table-column",{attrs:{prop:"directlyName",label:"直属领导"}}),t._v(" "),a("el-table-column",{attrs:{prop:"branchName",label:"分管领导"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){t.relationDirectly(e.row)}}},[t._v("关联直属领导")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){t.relationBranch(e.row)}}},[t._v("关联分管领导")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.listOrganizeReq.current,"page-sizes":[10,20,50,100],"page-size":t.listOrganizeReq.size,layout:"total, sizes, prev, pager, next",total:t.page.totalNums},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.$set(t.listOrganizeReq,"current",e)}}}),t._v(" "),a("div",[a("el-dialog",{attrs:{title:t.organizeOpe.name,visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("el-table",{attrs:{data:t.staffListData,"highlight-current-row":""},on:{"current-change":t.handleStaffTableChange}},[a("el-table-column",{attrs:{prop:"staffName",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"staffEnName",label:"英文名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"staffCode",label:"编号"}})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.staffListReq.current,"page-sizes":[10,20,50,100],"page-size":t.staffListReq.size,layout:"total, sizes, prev, pager, next",total:t.pageStaff.totalNums},on:{"size-change":t.handleStaffSizeChange,"current-change":t.handleStaffCurrentChange,"update:currentPage":function(e){t.$set(t.staffListReq,"current",e)}}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:""!=t.organize.staffOrgId,expression:"organize.staffOrgId != ''"}]},[t._v("当前选择的"+t._s(t.organizeOpe.name)+"："+t._s(t.organize.staffOrgName))]),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:""!=t.organize.staffOrgId,expression:"organize.staffOrgId != ''"}],staticStyle:{"margin-left":"15px"},attrs:{type:"primary"},on:{click:function(e){t.saveSelect()}}},[t._v("保存选择")])],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=10.966fe6f1aecd4887e7f8.js.map